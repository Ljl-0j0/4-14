 JavaScript 进阶 
 
> 了解面向对象编程的基础概念及构造函数的作用，体会 JavaScript 一切皆对象的语言特征，掌握常见的对象属性和方法的使用。
 
- 了解面向对象编程中的一般概念
- 能够基于构造函数创建对象
- 理解 JavaScript 中一切皆对象的语言特征
- 理解引用对象类型值存储的的特征
- 掌握包装类型对象常见方法的使用
 
## 深入对象
 
> 了解面向对象的基础概念，能够利用构造函数创建对象。
 
### 构造函数
 
构造函数是专门用于创建对象的函数，如果一个函数使用 `new` 关键字调用，那么这个函数就是构造函数。
 
```html
<script>
  // 定义函数
  function foo() {
    console.log('通过 new 也能调用函数...');
  }
  // 调用函数
  new foo;
</script>
```
 
总结：
 
2. 使用 `new` 关键字调用函数的行为被称为实例化
3. 实例化构造函数时没有参数时可以省略 `()`
4. 构造函数的返回值即为新创建的对象
5. 构造函数内部的 `return` 返回的值无效！
 
注：实践中为了从视觉上区分构造函数和普通函数，习惯将构造函数的首字母大写。
 
### 实例成员
 
通过构造函数创建的对象称为实例对象，实例对象中的属性和方法称为实例成员。
 
```html
<script>
  // 构造函数
  function Person() {
    // 构造函数内部的 this 就是实例对象
    // 实例对象中动态添加属性
    this.name = '小明'
    // 实例对象动态添加方法
    this.sayHi = function () {
      console.log('大家好~')
    }
  }
  // 实例化，p1 是实例对象
  // p1 实际就是 构造函数内部的 this
  const p1 = new Person()
  console.log(p1)
  console.log(p1.name) // 访问实例属性
  p1.sayHi() // 调用实例方法
</script>
```
 
总结：
 
1. 构造函数内部 `this` 实际上就是实例对象，为其动态添加的属性和方法即为实例成员
2. 为构造函数传入参数，动态创建结构相同但值不同的对象
 
注：构造函数创建的实例对象彼此独立互不影响。
 
### 静态成员
 
在 JavaScript 中底层函数本质上也是对象类型，因此允许直接为函数动态添加属性或方法，构造函数的属性和方法被称为静态成员。
 
```html
<script>
  // 构造函数
  function Person(name, age) {
    // 省略实例成员
  }
  // 静态属性
  Person.eyes = 2
  Person.arms = 2
  // 静态方法
  Person.walk = function () {
    console.log('^_^人都会走路...')
    // this 指向 Person
    console.log(this.eyes)
  }
</script>
```
 
总结：
 
1. 静态成员指的是添加到构造函数本身的属性和方法
2. 一般公共特征的属性或方法静态成员设置为静态成员
3. 静态成员方法中的 `this` 指向构造函数本身
 
## 内置构造函数
 
> 掌握各引用类型和包装类型对象属性和方法的使用。
 
在 JavaScript 中**最主要**的数据类型有 6 种，分别是字符串、数值、布尔、undefined、null 和 对象，常见的对象类型数据包括数组和普通对象。其中字符串、数值、布尔、undefined、null 也被称为简单类型或基础类型，对象也被称为引用类型。
 
在 JavaScript 内置了一些构造函数，绝大部的数据处理都是基于这些构造函数实现的，JavaScript 基础阶段学习的 `Date` 就是内置的构造函数。
 
```html
<script>
  // 实例化
    let date = new Date();
   
  // date 即为实例对象
  console.log(date);
</script>
```
 
甚至字符串、数值、布尔、数组、普通对象也都有专门的构造函数，用于创建对应类型的数据。
 
### Object
 
`Object` 是内置的构造函数，用于创建普通对象。
 
```html
<script>
  // 通过构造函数创建普通对象
  const user = new Object({name: '零距离', age: 15})
 
  // 这种方式声明的变量称为【字面量】
  let student = {name: '零距离', age: 21}
   
  // 对象语法简写
  let name = '零距离';
  let people = {
    // 相当于 name: name
    name,
    // 相当于 walk: function () {}
    walk () {
      console.log('人都要走路...');
    }
  }
 
  console.log(student.constructor);
  console.log(user.constructor);
  console.log(student instanceof Object);
</script>
```
 
总结：
 
1. 推荐使用字面量方式声明对象，而不是 `Object` 构造函数
2. `Object.assign` 静态方法创建新的对象
3. `Object.keys` 静态方法获取对象中所有属性
4. `Object.values` 表态方法获取对象中所有属性值

### Array
 
`Array` 是内置的构造函数，用于创建数组。
 
```html
<script>
  // 构造函数创建数组
  let arr = new Array(5, 7, 8);
 
  // 字面量方式创建数组
  let list = ['html', 'css', 'javascript']
 
</script>
```
  数组赋值后，无论修改哪个变量另一个对象的数据值也会相当发生改变。
 
**Reduce**

`reduce` 是数组的一个方法，用于对数组中的元素进行累加操作。

```html
<script>
  // 数组
  const arr = [1, 2, 3, 4, 5];
   let sum = arr.reduce((acc, cur) => acc + cur); // 累加` 
```
![alt text](image.png)
![alt text](image-1.png)


 
总结：
 
1. 推荐使用字面量方式声明数组，而不是 `Array` 构造函数
```html
<script>
  // 字面量方式创建数组
  let list = ['html', 'css', 'javascript'];
  console.log(list); // 输出: ['html', 'css', 'javascript']

  // 构造函数创建数组
  let arr = new Array(5, 7, 8);
```

2. 实例方法 `forEach` 用于遍历数组，替代 `for` 循环 (重点)
```html
<script>
  // 数组
  const arr = [1, 2, 3, 4, 5];
  // 遍历数组
  arr.forEach((item, index) => {
    console.log(`索引为${index}的值为${item}`);
  });
</script>
```
 
3. 实例方法 `filter` 过滤数组单元值，生成新数组(重点)
```html
<script>
  // 过滤数组
  const arr = [10, 20, 30]
  // 返回的符合条件的新数组
  const newArr = arr.filter(item => item >= 20)
  console.log(newArr)
</script>
```

4. 实例方法 `map` 迭代原数组，生成新数组(重点)
```html
<script>
  // 数组
  const arr = [10, 20, 30]
  // 返回的新数组
  const newArr = arr.map(item => item * 2)
  console.log(newArr)
</script>
``` 

5. 实例方法 `join` 数组元素拼接为字符串，返回字符串(重点)
```html
<script>
  // 数组
  const fruits = ['apple', 'banana', 'cherry'];
  const fruitString = fruits.join(', ');
  console.log(fruitString); // 输出: "apple, banana, cherry"
</script>
```

6. 实例方法  `find`  查找元素， 返回`符合`测试条件的`第一个`数组元素值，如果没有符合条件的则返回 undefined(重点)
```html
<script>
  const numbers = [10, 20, 30];
  const firstLargeNumber = numbers.find((num) => num > 15);
  console.log(firstLargeNumber); // 输出: 20
</script>
```

7. 实例方法`every` 检测数组所有元素是否都符合指定条件，如果**所有元素**都通过检测返回 true，否则返回 false(重点)
```html
<script>
  const numbers = [10, 20, 30];
  const allLargeNumbers = numbers.every((num) => num > 5);
  console.log(allLargeNumbers); // 输出: true
```

8. 实例方法`some` 检测数组中的元素是否满足指定条件   **如果数组中有**元素满足条件返回 true，否则返回 false
```html
<script>
  const numbers = [10, 20, 30];
  const hasLargeNumber = numbers.some((num) => num > 15);
  console.log(hasLargeNumber); // 输出: true
</script>
```

9.  实例方法 `concat`  合并两个数组，返回生成新数组
```html
<script>
  const arr1 = [1, 2, 3];
  const arr2 = [4, 5, 6];
  const mergedArray = arr1.concat(arr2); // 输出: [1, 2, 3, 4, 5, 6]
</script>
```

10. 实例方法 `sort` 对原数组单元值排序
```html
<script>
  const numbers = [3, 1, 4, 1, 5, 9];
  numbers.sort((a, b) => a - b);
  console.log(numbers); // 输出: [1, 1, 3, 4, 5, 9]
</script>
```

11. 实例方法 `splice` 删除或替换原数组单元
```html
<script>
  const numbers = [1, 2, 3, 4, 5];
  numbers.splice(2, 1); // 删除索引为2的元素，即值为3
  console.log(numbers); // 输出: [1, 2, 4, 5]
</script>
```

12. 实例方法 `reverse` 反转数组
```html
<script>
  const numbers = [1, 2, 3, 4, 5];
  numbers.reverse();
  console.log(numbers); // 输出: [5, 4, 3, 2, 1]
```

13. 实例方法 `findIndex`  查找元素的索引值
 
    ?

```html
<script>
  const numbers = [10, 20, 30];
  const index = numbers.findIndex((num) => num > 15);
  console.log(index); // 输出: 1
</script>
```

![alt text](image-2.png)

### 包装类型
 
在 JavaScript 中的字符串、数值、布尔具有对象的使用特征，如具有属性和方法，如下代码举例：
 
```html
<script>
  // 字符串类型
  const str = 'hello world!'
    // 统计字符的长度（字符数量）
  console.log(str.length)
   
  // 数值类型
  const price = 12.345
  // 保留两位小数
  price.toFixed(2) // 12.34
</script>
```
 
之所以具有对象特征的原因是字符串、数值、布尔类型数据是 JavaScript 底层使用 Object 构造函数“包装”来的，被称为包装类型。
 
#### String
 
`String` 是内置的构造函数，用于创建字符串。
 
```html
<script>
  // 使用构造函数创建字符串
  let str = new String('hello world!');
 
  // 字面量创建字符串
  let str2 = '你好，世界！';
 
  // 检测是否属于同一个构造函数
  console.log(str.constructor === str2.constructor); // true
  console.log(str instanceof String); // false
</script>
```
 
总结：
 
1. 实例属性 `length` 用来获取字符串的度长(重点)
```html
<script>
  const str = 'hello world!'
  console.log(str.length) // 输出: 12
```

2. 实例方法 `split('分隔符')` 用来将字符串拆分成数组(重点)
```html
<script>
  const str1 = '2022-4-8'
  const arr1 = str1.split('-')
  console.log(arr1)
```

3. 实例方法 `substring（需要截取的第一个字符的索引[,结束的索引号]）` 用于字符串截取(重点)
```html
<script>
  const str1 = 'hello world!'
  const str2 = str1.substring(1, 5) // 输出: 'ello'
```  

4. 实例方法 `startsWith(检测字符串[, 检测位置索引号])` 检测是否以某字符开头(重点)
```html
<script>
  const str1 = 'hello world!'
  const result = str1.startsWith('h') // 输出: true
```  

5. 实例方法 `includes(搜索的字符串[, 检测位置索引号])` 判断一个字符串是否包含在另一个字符串中，根据情况返回 true 或 false(重点)
```html
<script>
  const str1 = 'hello world!'
  const result = str1.includes('world') // 输出: true
```

6. 实例方法 `toUpperCase` 用于将字母转换成大写
```html
<script>
  const str1 = 'hello world!'
  const str2 = str1.toUpperCase() // 输出: 'HELLO WORLD!'
```

7. 实例方法 `toLowerCase` 用于将就转换成小写
```html
<script>
  const str1 = 'hello world!'
  const str2 = str1.toLowerCase() // 输出: 'hello world!'
```

8. 实例方法 `indexOf`  检测是否包含某字符
```html
<script>
  const str1 = 'hello world!'
  const index = str1.indexOf('world') // 输出: 6
```

9.  实例方法 `endsWith` 检测是否以某字符结尾
```html
<script>
  const str1 = 'hello world!'
  const result = str1.endsWith('!') // 输出: true
```

10. 实例方法 `replace` 用于替换字符串，支持正则匹配
```html
<script>
  const str1 = 'hello world!'
  const str2 = str1.replace('world', 'JavaScript') // 输出: 'hello JavaScript!'
```

11. 实例方法 `match` 用于查找字符串，支持正则匹配
```html
<script>
  const str1 = 'hello world!'
  const result = str1.match('world') // 输出: ['world']
```
   
注：String 也可以当做普通函数使用，这时它的作用是强制转换成字符串数据类型。
 
#### Number
 
`Number` 是内置的构造函数，用于创建数值。
 
```html
<script>
  // 使用构造函数创建数值
  let x = new Number('10')
  let y = new Number(5)
 
  // 字面量创建数值
  let z = 20
 
</script>
```
 
总结：
 
1. 推荐使用字面量方式声明数值，而不是 `Number` 构造函数

2. 实例方法 `toFixed` 用于设置保留小数位的长度
<script>
  const numbers = [1, 2, 3];
  const squaredNumbers = numbers.map((num) => num * num);
  console.log(squaredNumbers); // 输出: [1, 4, 9]
  console.log(numbers); // 输出: [1, 2, 3]，原数组未改变
</script>